!function(a,b,c,d){"use strict";var e={allowZoom:!1,allowPan:!1,allowClick:!1,hideControls:!0,hidePopups:!0,beforeFreeze:null,afterThaw:null},f=function(a){return function(b){return this._isFrozen?!1:void a.call(this,b)}};a.Marker.prototype._bringToFront=f(a.Marker.prototype._bringToFront),a.Marker.prototype._resetZIndex=f(a.Marker.prototype._resetZIndex),a.Marker.prototype._onMouseClick=f(a.Marker.prototype._onMouseClick),a.Marker.prototype._onKeyPress=f(a.Marker.prototype._onKeyPress),a.Map.include({freeze:function(c){this._isFrozen||(a.DomUtil.addClass(b.document.body,"map-is-frozen"),c=a.Util.extend({},e,c),c.beforeFreeze&&c.beforeFreeze(this,c),this._freezeOptions={},this._freezeOptions.options=c,this._freezeOptions.map_cursor_style=this.getContainer().style.cursor,c.allowPan||(this.getContainer().style.cursor="default"),c.allowZoom||(this._freezeOptions.getMinZoom=this.getMinZoom,this._freezeOptions.getMaxZoom=this.getMaxZoom,this._freezeOptions.setZoom=this.setZoom,this.getMinZoom=function(){return this.getZoom()},this.getMaxZoom=this.getMinZoom,this.setZoom=function(){return this},this.zoomControl&&(this._freezeOptions.zoomControl_style_display=this.zoomControl._container.style.display,this.zoomControl._container.style.display="none")),c.hideControls&&(this._freezeOptions._controlContainer_style_display=this._controlContainer.style.display,this._controlContainer.style.display="none"),this._freeze(c),this._isFrozen=!0,c.afterThaw&&this.once("afterThaw",c.afterThaw))},thaw:function(){this._isFrozen&&(this.getContainer().style.cursor=this._freezeOptions.map_cursor_style,this._freezeOptions.options.allowZoom||(this.getMinZoom=this._freezeOptions.getMinZoom,this.getMaxZoom=this._freezeOptions.getMaxZoom,this.setZoom=this._freezeOptions.setZoom,this.zoomControl&&(this.zoomControl._container.style.display=this._freezeOptions.zoomControl_style_display)),this._freezeOptions.options.hideControls&&(this._controlContainer.style.display=this._freezeOptions._controlContainer_style_display),this._thaw(),a.DomUtil.removeClass(b.document.body,"map-is-frozen"),this._isFrozen=!1,this.fire("afterThaw"))}}),a.Class.include({_freeze:function(b){function c(a){for(var b=0;b<a.length;b++){var c=a[b];c&&(c.enableOnThaw=c._enabled||c.enabled&&c.enabled(),c.disable(),c.frozen=!0)}}this._freezeOptions=this._freezeOptions||{},this._freezeOptions.clickableElement=this._icon||this._path||this._container,this._freezeOptions.clickableElement&&a.DomUtil.hasClass(this._freezeOptions.clickableElement,"leaflet-clickable")?a.DomUtil.removeClass(this._freezeOptions.clickableElement,"leaflet-clickable"):this._freezeOptions.clickableElement=null,c([this.tap]),b.allowZoom||c([this.touchZoom,this.doubleClickZoom,this.scrollWheelZoom,this.boxZoom]),b.allowPan||c([this.dragging]),b.hidePopups&&this.closePopup&&this.closePopup(),this.hasEventListeners&&(this.disabledEvents={click:!b.allowClick,dblclick:!0,preclick:!0,contextmenu:!0,mouseover:!0,mouseout:!0},this._save_hasEventListeners=this.hasEventListeners,this.hasEventListeners=this._hasEventListenersWhenDisabled,this._save_fireEvent=this.fireEvent,this.fireEvent=this._fireEventWhenDisabled,this._save_fire=this.fire,this.fire=this._fireEventWhenDisabled),this.eachLayer&&this.eachLayer(function(a){a._freeze({})})},_thaw:function(){for(var b=[this.dragging,this.touchZoom,this.doubleClickZoom,this.scrollWheelZoom,this.boxZoom,this.keyboard,this.tap],c=0;c<b.length;c++){var d=b[c];d&&d.frozen&&(d.enableOnThaw&&d.enable(),d.frozen=!1)}this._freezeOptions.clickableElement&&a.DomUtil.addClass(this._freezeOptions.clickableElement,"leaflet-clickable"),this.disabledEvents&&(this.hasEventListeners=this._save_hasEventListeners,this.fireEvent=this._save_fireEvent,this.fire=this._save_fire,this.disabledEvents=null),this.eachLayer&&this.eachLayer(function(a){a._thaw()}),this._freezeOptions={}},_hasEventListenersWhenDisabled:function(b){return"contextmenu"!=b&&this.disabledEvents&&this.disabledEvents[b]?!1:a.Mixin.Events.hasEventListeners.call(this,b)},_fireEventWhenDisabled:function(b,c){if("contextmenu"==b&&this.disabledEvents&&this.disabledEvents[b]){var d=a.Util.extend({},c,{type:b,target:this});return a.DomEvent.stop(d),!1}return a.Mixin.Events.fireEvent.call(this,b,c)}})}(L,this,document);